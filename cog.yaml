build:
  gpu: true
  cuda: "11.8"
  python_version: "3.10.0"
  python_packages:
    - "torch==2.0.1 --index-url https://download.pytorch.org/whl/cu118"
    - "torchvision==0.15.2 --index-url https://download.pytorch.org/whl/cu118"
    - "torchaudio==2.0.2 --index-url https://download.pytorch.org/whl/cu118"
    - "accelerate >= 0.20.3"
    - "colorama >= 0.4.3, < 0.5.0"
    - "cmake >= 3.25.0"
    - "diffusers == 0.18.2"
    - "einops >= 0.6.1"
    - "gdown >= 4.6.6"
    - "ninja >= 1.11.0"
    - "numpy >= 1.22.4"
    - "omegaconf >= 2.3.0"
    - "pillow >= 9.4.0, < 10.0.0"
    - "pydantic >= 1.10.0, < 2.0.0"
    - "rich >= 13.0.0, < 14.0.0"
    - "safetensors >= 0.3.1"
    - "sentencepiece >= 0.1.99"
    - "shellingham >= 1.5.0, < 2.0.0"
    - "torch >= 2.0.0, < 2.2.0"
    - "transformers >= 4.30.2"
    - "typer >= 0.9.0, < 1.0.0"
    - "controlnet_aux"
    - "matplotlib"
    - "ffmpeg-python >= 0.2.0"

  run:
  - pip install xformers